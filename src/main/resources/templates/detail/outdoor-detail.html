<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head th:fragment="head" th:replace="~{common/layout :: head}"></head>
  <!--Custom Css-->
  <link rel="stylesheet" id="custom" type="text/css" th:href="@{/css/outdoor.css}">
 
<body>
  <!-- Begin page -->
  <div>
    <!--Navbar Start-->
  	<header th:replace="~{common/layout :: #header}"></header>
    
    <div class="main-content">

      <div class="page-content">

        <!-- Start home -->
        <section class="page-title-box"
			th:style="'background-image: linear-gradient( rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5) ), url('+@{/images/img/hero_outdoor-detail.jpg}+'); height: 350px; padding-top: 130px; background-position: center;'">
          <div class="container">
            <div class="row justify-content-center">
              <div class="col-md-6">
                <div class="text-center text-white">
                  <h3 class="mb-4 hero-title" style="font-weight: 400;">야외활동</h3>
                  <div class="page-next">
                    <nav class="d-inline-block" aria-label="breadcrumb text-center">
                      <ol class="breadcrumb justify-content-center">
                        <li class="breadcrumb-item"><a th:href="@{/}">HOME</a></li>
                        <li class="breadcrumb-item"><a th:href="@{/outdoor}">LIFE</a></li>
                        <li class="breadcrumb-item"><a th:href="@{/outdoor}">OUTDOOR</a></li>
                        <li class="breadcrumb-item active" aria-current="page"> OUTDOOR DETAIL </li>
                      </ol>
                    </nav>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
        <!-- end home -->

        <!-- START SHAPE -->
        <div class="position-relative" th:style="'z-index: 1'">
          <div class="shape">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 250">
              <path fill="#FFFFFF" fill-opacity="1"
                d="M0,192L120,202.7C240,213,480,235,720,234.7C960,235,1200,213,1320,202.7L1440,192L1440,320L1320,320C1200,320,960,320,720,320C480,320,240,320,120,320L0,320Z">
              </path>
            </svg>
          </div>
        </div>
        <!-- END SHAPE -->

        <!-- START JOB-DEATILS -->
        

        <section class="section">
          <div class="container">
            <div class="row">
              <div class="col-lg-8 mt-lg-4">
                <div class="card job-detail overflow-hidden">
                  <div >
                    <img th:src="@{/images/img/park4.jpeg}" alt="" th:style="'width: 800px; height:400px'">
                  </div>
                  <div class="card-body p-4">
                    <div>
                      <div class="row">
                        <div class="col-md-10">
                          <h2 class="mb-2" th:style="'letter-spacing:.5px;'">[[${park.parkNm}]]</h2>
                          <ul class="list-inline text-muted mb-0">
                            <li class="fs-18">[[${park.parkSe}]]</li>
                          </ul>
                        </div><!--end col-->
                        <!-- <div class="col-lg-2">
                          <ul class="list-inline mb-0 text-lg-end mt-3 mt-lg-0">
                            <li class="list-inline-item">
                              <div class="favorite-icon2">
                                <a href=""><i class="uil uil-heart-alt"></i></a>
                              </div>
                            </li>
                          </ul>
                        </div> -->
                      </div><!--end row-->
                    </div>

                    <div class="mt-4">
                      <div class="row g-2">
                        <div class="col-lg-8">
                          <div class="border rounded-start p-3">
                            <p class="text-muted mb-0 fs-16">주소</p>
                            <p class="fw-medium fs-17 mb-0">[[${park.lnmadr}]]</p>
                          </div>
                        </div>
                        <div class="col-lg-4">
                          <div class="border p-3">
                            <p class="text-muted fs-16 mb-0">공원면적</p>
                            <p class="fw-medium fs-17 mb-0">[[${park.parkAr}]]&nbsp;m<sup>2</sup></p>
                          </div>
                        </div>
                      </div>
                    </div><!--end Experience-->


                    <div class="mt-5">
                      <h4 class="mb-4">공원보유시설</h4>
                      <div class="job-detail-desc mt-2">
                        <ul class=" job-detail-list2 list-unstyled mb-0 text-muted fs-17">
                          <li><i class="uil uil-circle"></i>운동시설&nbsp;:&nbsp;[[${park.mvmFclty}]]</li>
                          <li><i class="uil uil-circle"></i>유희시설&nbsp;:&nbsp;[[${park.amsmtFclty}]]</li>
                          <li><i class="uil uil-circle"></i>편익시설&nbsp;:&nbsp;[[${park.cnvnncFclty}]]</li>
                          <li><i class="uil uil-circle"></i>교양시설&nbsp;:&nbsp;[[${park.cltrFclty}]]</li>
                          <li><i class="uil uil-circle"></i>기타시설&nbsp;:&nbsp;[[${park.etcFclty}]]</li>
                        </ul>
                      </div>
                    </div>
                    <div class="mt-4">
                      <div class="job-details-desc">
                        <div class="mt-4">
                          <span class="badge2 bg-primary">#[[${park.parkNm}]]</span>
                          <span class="badge2 bg-primary">#[[${park.parkSe}]]</span>
                        </div>
                      </div>
                    </div>
                  </div><!--end card-body-->
                </div><!--end job-detail-->

                <div class="mt-5">
                  <h4 class="border-bottom pb-3">리뷰</h4>
                  
                  <!-- 리뷰 있을 시  -->
                 <th:block th:if="${parkReplys != null}">
                    <th:block th:each="replys : ${parkReplys}">
	                  <div class="row mt-5">
	                    <div class="col-lg-9 d-sm-flex align-items-top">
	                      <div class="flex-shrink-0">
	                        <img class="rounded-circle avatar-md img-thumbnail" th:src="@{/images/user/img-01.jpg}"
	                          alt="img" />
	                      </div>
	                      <div class="flex-grow-1 ms-sm-3">
		                    <div class="col-4 flex-grow-1">
		                      <h6 class="fs-16 mt-sm-0 mt-3 mb-0">[[${replys.writer}]]님</h6>
		                      <p class="text-muted fs-14 mb-0 mb-2">[[${#dates.format(replys.createDate,'yyyy/MM/dd(E) a HH:mm:ss')}]]</p>
	                      	</div>	
		                    <th:block th:if="${session.loginMember != null && (session.loginMember.id == replys.writer || session.loginMember.role == 'ROLE_ADMIN')}">
								<div class="col-5 text-end pe-2 float-end">
									<button type="button" class="btn btn-primary" th:onclick="|updateReplyPark(${replys.parkRno},${park.parkNo}|">수정</button>
									<button type="button" class="btn btn-primary" th:onclick="|deleteReplyPark(${replys.parkRno},${park.parkNo});|">삭제</button></div>
							 </th:block>
						   <p class="mb-0 fs-5 pe-3">[[${replys.content}]]</p>
	                     </div>
	                    </div>
	                  </div>﻿
                  	</th:block>
                  </th:block>
			<!-- form 수정!!! -->	
                  <form th:action="@{/outdoor-detail/parkReview}" method="post" class="contact-form mt-5">
                    <input type="hidden" name="parkNo" th:value="${park.parkNo}" /> 
                    <div class="row mt-5">
                      <div class="col-lg-12">
                        <div class="position-relative mb-3">
                          <textarea name="content" id="parkContent" rows="4" class="form-control"
                            placeholder="댓글 작성" required="required"></textarea>
                        </div>
                      </div>
                    </div>
                    <div class="row mb-5">
                      <div class="col-sm-12 text-end">
                        <button name="submit" type="submit" id="submit" class="btn btn-primary btn-hover">등록하기 <i
                            class="uil uil-message ms-1"></i></button>
                      </div>
                    </div>
                  </form>
                </div>  <!--end col-->
              </div>
              
              <!-- 사이드 메뉴 -->
              <div class="col-lg-4 mt-4 mt-lg-4">
                <!--start side-bar-->
                <div class="side-bar ms-lg-4">
                  <div class="card job-overview">
                    <div class="card-body p-4">
                      <h6 class="fs-20">세부 정보</h6>
                      <ul class="list-unstyled mt-4 mb-0">
                        <li>
                          <div class="d-flex mt-4">
                            <i class="uil uil-location-point icon bg-soft-primary"></i>
                            <div class="ms-3">
                              <h6 class="fs-15 mb-1">관리번호</h6>
                              <p class="text-muted mb-0 fs-17">[[${park.manageNo}]]</p>
                            </div>
                          </div>
                        </li>
                        <li>
                          <div class="d-flex mt-4">
                            <i class="uil uil-building icon bg-soft-primary"></i>
                            <div class="ms-3">
                              <h6 class="fs-15 mb-1">관리기관명</h6>
                              <p class="text-muted mb-0 fs-17">[[${park.institutionNm}]]</p>
                            </div>
                          </div>
                        </li>
                        <li>
                          <div class="d-flex mt-4">
                            <i class="uil uil-phone icon bg-soft-primary"></i>
                            <div class="ms-3">
                              <h6 class="fs-15 mb-1">전화번호</h6>
                              <p class="text-muted mb-0 fs-17">[[${park.phoneNumber}]]</p>
                            </div>
                          </div>
                        </li>
                        <li>
                          <div class="d-flex mt-4">
                            <i class="uil uil-star-half-alt icon bg-soft-primary"></i>
                            <div class="ms-3">
                              <h6 class="fs-15 mb-1">지정고시일</h6>
                              <p class="text-muted mb-0 fs-17">[[${park.appnNtfcDate}]]</p>
                            </div>
                          </div>
                        </li>
                        <li>
                          <div class="d-flex mt-4">
                            <i class="uil uil-history icon bg-soft-primary"></i>
                            <div class="ms-3">
                              <h6 class="fs-15 mb-1">데이터기준일자</h6>
                              <p class="text-muted mb-0 fs-17">[[${park.referenceDate}]]</p>
                            </div>
                          </div>
                        </li>
                      </ul>
                    </div><!--end card-body-->
                  </div><!--end job-overview-->
                  <div class="mt-4">
                    <h6 class="fs-20 mb-3">위치 정보</h6>
                    <div id="kakaomap" th:style="'width:100%; height:250px;'"></div>
                  </div>
                </div>
                <!--end side-bar-->
              </div><!--end col-->
            </div><!-- end row -->
          </div><!--end container-->
        </section>
    
      </div>
      <!-- End Page-content -->

	  <!-- START FOOTER -->
	  <footer th:replace="~{common/layout :: #footer}"></footer>
	  <!-- END FOOTER -->
      

      <!--start back-to-top-->
      <button th:onclick="|topFunction()|" id="back-to-top">
        <i class="mdi mdi-arrow-up"></i>
      </button>
      <!--end back-to-top-->
    </div>
    <!-- end main content-->

  </div>
  <!-- END layout-wrapper -->



  <!-- JAVASCRIPT -->
  <script type="text/javascript" th:inline="javascript">

  
  function deleteReplyPark(parkRno, parkNo) {
		var url = "/outdoor/outdoor-detail?parkNo=";
		var requestURL = url + parkRno + "&parkNo=" + parkNo;
		location.replace(requestURL);
	}
  
  function updateReplyPark(parkRno, parkNo){
	    var url = "/outdoor/outdoor-detail?parkNo=";
		var requestURL = url + parkRno + "&parkNo=" + parkNo;
		location.replace(requestURL);

  }
  
  
  </script>
  
  <script th:src="@{/libs/bootstrap/js/bootstrap.bundle.min.js}"></script>
  <script src="https://unicons.iconscout.com/release/v4.0.0/script/monochrome/bundle.js"></script>

	<!-- jquery  -->
	<script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>

  <!-- Switcher Js -->
  <script th:src="@{/js/pages/switcher.init.js}"></script>

  <!-- App Js -->
  <script th:src="@{/js/app.js}"></script>

  <!-- 카카오 지도 -->
  <!-- <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=e0216acf240302af61958af813b83190"></script>
  <script>
    var mapContainer = document.getElementById('kakaomap'), // 지도를 표시할 div 
        mapOption = { 
            center: new kakao.maps.LatLng(37.544462, 127.037407), // 지도의 중심좌표
            level: 5 // 지도의 확대 레벨
        };

    var map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다

    // 마커가 표시될 위치입니다 
    var markerPosition  = new kakao.maps.LatLng(37.544462, 127.037407); 

    // 마커를 생성합니다
    var marker = new kakao.maps.Marker({
        position: markerPosition
    });

    // 마커가 지도 위에 표시되도록 설정합니다
    marker.setMap(map);

    // 아래 코드는 지도 위의 마커를 제거하는 코드입니다
    // marker.setMap(null);    
  </script> -->
</body>

</html>